
require 'test_helper'
require 'stub_data'
Dir[Rails.root.join('test/**/*.rb')].each { |f| require f }

class QuarcTest < ActiveSupport::TestCase
  describe "pyquarc" do
    describe "when we ask it for its version" do
      it "returns the pyquarc version # if successful" do
        stub_request(:get, "https://quarc.nasa-impact.net/version").
          with(
            headers: {
              'Accept'=>'*/*',
              'Accept-Encoding'=>'gzip;q=1.0,deflate;q=0.6,identity;q=0.3',
              'User-Agent'=>'Ruby'
            }).
          to_return(status: 200, body: '{"pyQuARC": "1.2.6", "QuARC": "1.0.0"}', headers: {})
        version = Quarc.instance.version
        assert_equal(version, "1.2.6")
      end
      end
      it "return unknown if unsuccessful" do
        stub_request(:get, "https://quarc.nasa-impact.net/version").
          with(
            headers: {
              'Accept'=>'*/*',
              'Accept-Encoding'=>'gzip;q=1.0,deflate;q=0.6,identity;q=0.3',
              'User-Agent'=>'Ruby'
            }).
          to_return(status: 500, body: '{"error":"internal error"}', headers: {})
        version = Quarc.instance.version
        assert_equal(version, "unknown")
      end
    end
    describe "when we ask it to validate a dif10 record" do
      it "produces a list of errors." do
        validation_results = {"details"=>[{"file"=>"20221130-607-1yf1gdu", "errors"=>{"Access_Constraints"=>{"schema"=>{"message"=>["Error: Character content other than whitespace is not allowed because the content type is 'element-only'."], "valid"=>false}}, "DIF/Related_URL/Protocol"=>{}, "DIF/Use_Constraints/License_URL/Protocol"=>{}, "DIF/Temporal_Coverage/Range_DateTime/Beginning_Date_Time"=>{"date_or_datetime_format_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Temporal_Coverage/Range_DateTime/Ending_Date_Time"=>{}, "DIF/Temporal_Coverage/Single_Date_Time"=>{}, "DIF/Temporal_Coverage/Periodic_DateTime/Start_Date"=>{}, "DIF/Temporal_Coverage/Periodic_DateTime/End_Date"=>{}, "DIF/Metadata_Dates/Metadata_Creation"=>{"date_or_datetime_format_check"=>{"valid"=>true, "value"=>[]}, "dif10_date_not_provided_check"=>{"valid"=>true, "value"=>[]}, "default_date_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Metadata_Dates/Metadata_Last_Revision"=>{"date_or_datetime_format_check"=>{"valid"=>true, "value"=>[]}, "dif10_date_not_provided_check"=>{"valid"=>true, "value"=>[]}, "data_revision_date_logic_check"=>{"valid"=>true, "value"=>[]}, "default_date_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Metadata_Dates/Metadata_Delete"=>{}, "DIF/Metadata_Dates/Data_Creation"=>{"date_or_datetime_format_check"=>{"valid"=>true, "value"=>[]}, "dif10_date_not_provided_check"=>{"valid"=>true, "value"=>[]}, "default_date_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Metadata_Dates/Data_Last_Revision"=>{"date_or_datetime_format_check"=>{"valid"=>true, "value"=>[]}, "dif10_date_not_provided_check"=>{"valid"=>true, "value"=>[]}, "data_update_time_logic_check"=>{"valid"=>true, "value"=>[]}, "default_date_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Metadata_Dates/Data_Future_Review"=>{}, "DIF/Metadata_Dates/Metadata_Future_Review"=>{}, "DIF/Metadata_Dates/Data_Delete"=>{}, "DIF/Temporal_Coverage/Paleo_DateTime/Paleo_Stop_Date"=>{}, "DIF/Temporal_Coverage/Paleo_DateTime/Paleo_Start_Date"=>{}, "DIF/Dataset_Citation/Dataset_Release_Date"=>{"date_or_datetime_format_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Project/Start_Date"=>{}, "DIF/Project/End_Date"=>{}, "DIF/Organization/Organization_Name/Long_Name"=>{"organization_long_name_gcmd_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Spatial_Coverage/Geometry/Coordinate_System"=>{"coordinate_system_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Related_URL"=>{"get_data_url_check"=>{"valid"=>true, "value"=>[]}, "url_description_uniqueness_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Platform/Characteristics/Value"=>{"characteristic_value_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Platform/Instrument/Sensor/Characteristics/Value"=>{"characteristic_value_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Platform/Instrument/Characteristics/Value"=>{"characteristic_value_check"=>{"valid"=>true, "value"=>[]}}, "DIF/IDN_Node/Short_Name"=>{}, "/DIF/Organization/Organization_Type"=>{}, "DIF/Platform/Instrument/NumberOfSensors"=>{}, "DIF/Organization/Organization_Name/Short_Name"=>{"organization_short_name_gcmd_check"=>{"valid"=>true, "value"=>[]}, "organization_short_long_name_consistency_check"=>{"valid"=>true, "value"=>[]}, "data_center_short_name_gcmd_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Platform/Instrument/Short_Name"=>{"instrument_short_name_gcmd_check"=>{"valid"=>true, "value"=>[]}, "instrument_short_long_name_consistency_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Platform/Instrument/Sensor/Short_Name"=>{"instrument_short_name_gcmd_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Platform/Instrument/Characteristics/DataType"=>{"characteristic_data_type"=>{"valid"=>true, "value"=>[]}}, "DIF/Platform/Instrument/Sensor/Characteristics/DataType"=>{"characteristic_data_type"=>{"valid"=>true, "value"=>[]}}, "DIF/Platform/Characteristics/DataType"=>{"characteristic_data_type"=>{"valid"=>true, "value"=>[]}}, "DIF/Platform/Characteristics/Unit"=>{"characteristic_unit_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Platform/Instrument/Sensor/Characteristics/Unit"=>{"characteristic_unit_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Platform/Instrument/Characteristics/Unit"=>{"characteristic_unit_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Spatial_Coverage/Geometry/Bounding_Rectangle/Westernmost_Longitude"=>{"bounding_coordinate_logic_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Location/Location_Category"=>{"location_gcmd_check"=>{"valid"=>true, "value"=>[]}, "spatial_keyword_gcmd_check"=>{"valid"=>true, "value"=>[]}, "location_keyword_presence_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Data_Resolution/Horizontal_Resolution_Range"=>{}, "DIF/Platform/Characteristics"=>{}, "DIF/Platform/Characteristics/Name"=>{"characteristic_name_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Platform/Instrument/Characteristics/Name"=>{"characteristic_name_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Platform/Instrument/Sensor/Characteristics/Name"=>{"characteristic_name_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Summary/Abstract"=>{"abstract_length_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Dataset_Citation/Persistent_Identifier/Identifier"=>{}, "DIF/Platform/Type"=>{"platform_type_gcmd_check"=>{"valid"=>true, "value"=>[]}, "platform_type_presence_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Dataset_Citation/Persistent_Identifier/Explanation"=>{"doi_missing_reason_explanation"=>{"valid"=>true, "value"=>[]}}, "DIF/Version_Description"=>{"version_description_not_provided"=>{"valid"=>true, "value"=>[]}}, "DIF/ISO_Topic_Category"=>{}, "DIF/Temporal_Coverage/Single_DateTime"=>{"temporal_extent_requirement_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Platform/Characteristics/Description"=>{"characteristic_desc_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Platform/Instrument/Characteristics/Description"=>{"characteristic_desc_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Platform/Instrument/Sensor/Characteristics/Description"=>{"characteristic_desc_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Project/Short_Name"=>{"campaign_short_name_gcmd_check"=>{"valid"=>true, "value"=>[]}, "campaign_short_long_name_consistency_check"=>{"valid"=>true, "value"=>[]}, "campaign_name_presence_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Spatial_Coverage/Spatial_Info/Horizontal_Coordinate_System/Geographic_Coordinate_System/GeographicCoordinateUnits"=>{}, "DIF/Data_Resolution/Temporal_Resolution_Range"=>{}, "DIF/Project/Long_Name"=>{"campaign_long_name_gcmd_check"=>{"valid"=>true, "value"=>[]}, "campaign_long_name_presence_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Spatial_Coverage/Geometry/Bounding_Rectangle"=>{"spatial_extent_requirement_fulfillment_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Related_URL/Description"=>{"url_desc_presence_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Multimedia_Sample/Description"=>{"url_desc_presence_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Use_Constraints/License_URL/Description"=>{"url_desc_presence_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Multimedia_Sample"=>{}, "DIF/Platform/Instrument/Long_Name"=>{"instrument_long_name_gcmd_check"=>{"valid"=>true, "value"=>[]}, "instrument_long_name_presence_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Platform/Instrument/Sensor/Long_Name"=>{}, "DIF/Dataset_Citation/Persistent_Identifier/Authority"=>{}, "DIF/Associated_DOIs/Authority"=>{}, "DIF/Temporal_Coverage/Paleo_DateTime/Chronostratigraphic_Unit/Eon"=>{}, "DIF/Dataset_Citation/Dataset_Title"=>{"collection_citation_presence_check"=>{"valid"=>false, "value"=>[nil], "message"=>["Warning: No CitationforExternalPublication is provided."], "remediation"=>"Please provide a citation for the dataset in the CitationforExternalPublication field."}}, "DIF/Platform/Short_Name"=>{"platform_short_name_gcmd_check"=>{"valid"=>true, "value"=>[]}, "platform_short_long_name_consistency_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Platform/Long_Name"=>{"platform_long_name_gcmd_check"=>{"valid"=>true, "value"=>[]}, "platform_long_name_presence_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Related_URL/Mime_Type"=>{"mime_type_check"=>{"valid"=>false, "value"=>[nil], "message"=>["Info: MimeType isn't valid."], "remediation"=>"If the URL Type is 'USE SERVICE API', please make sure to specify a MimeType from the list: ['application/json', 'application/xml', 'application/x-netcdf', 'application/gml+xml', 'application/vnd.google-earth.kml+xml', 'image/gif', 'image/tiff', 'image/bmp', 'text/csv', 'text/xml', 'application/pdf', 'application/x-hdf', 'application/xhdf5', 'application/octet-stream', 'application/vnd.google-earth.kmz', 'image/jpeg', 'image/png', 'image/vnd.collada+xml', 'text/html', 'text/plain', 'Not provided']"}}, "DIF/Spatial_Coverage/Spatial_Coverage_Type"=>{"spatial_coverage_type_presence_check"=>{"valid"=>true, "value"=>[]}, "spatial_coverage_type_check"=>{"valid"=>false, "value"=>[["HorizontalVertical"]], "message"=>["Error: The Spatial Coverage Type provided `['HorizontalVertical']` is invalid."], "remediation"=>"Please provide a Spatial Coverage Type from the following list: ['HORIZONTAL', 'VERTICAL', 'ORBITAL', 'HORIZONTAL_VERTICAL', ORBITAL_VERTICAL', 'HORIZONTAL_ORBITAL', 'HORIZONTAL_VERTICAL_ORBITAL']"}}, "DIF/Location/Location_Type"=>{"spatial_keyword_gcmd_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Location/Location_Subregion1"=>{}, "DIF/Location/Location_Subregion2"=>{}, "DIF/Location/Location_Subregion3"=>{}, "DIF/Spatial_Coverage/Geometry/Bounding_Rectangle/Depth_Unit"=>{}, "DIF/Temporal_Coverage/Ends_At_Present_Flag"=>{"ends_at_present_flag_logic_check"=>{"valid"=>false, "value"=>["true"], "message"=>["Warning: Potential issue with:\n - EndsAtPresentFlag: value = \"true\" but EndingDateTime is provided. \n - EndsAtPresentFlag: value = \"true\" but CollectionState is not \"ACTIVE\". \n - EndsAtPresentFlag: value = \"false\" but EndingDateTime is missing.\n - EndsAtPresentFlag: value = \"false\" but CollectionState is not \"COMPLETE\"."], "remediation"=>"If data collection is ongoing, provide an EndsAtPresentFlag of \"true\""}, "ends_at_present_flag_presence_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Spatial_Coverage/Granule_Spatial_Representation"=>{"granule_spatial_representation_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Spatial_Coverage/Vertical_Spatial_Info/Type"=>{}, "DIF/Extended_Metadata/Metadata/Value"=>{}, "DIF/Use_Constraints/License_URL/Mime_Type"=>{}, "DIF/Spatial_Coverage/Spatial_Info/Horizontal_Coordinate_System/Geodetic_Model/Horizontal_DatumName"=>{"horizontal_datum_name_check"=>{"valid"=>false, "value"=>[nil], "message"=>["Info: Horizontal Datum Name is missing."], "remediation"=>"Please provide a Horizontal Datum Name."}}, "DIF/Additional_Attributes/Value"=>{"doi_link_update"=>{"valid"=>true, "value"=>[]}}, "DIF/Dataset_Citation/Version"=>{}, "DIF/ProductLevelId"=>{}, "DIF/Science_Keywords/Category"=>{"science_keywords_gcmd_check"=>{"valid"=>false, "value"=>["'CARBON MONOXIDE' in the hierarchy 'EARTH SCIENCE/ATMOSPHERE/ATMOSPHERIC CHEMISTRY/CARBON AND HYDROCARBON COMPOUNDS/CARBON MONOXIDE'"], "message"=>["Error: `'CARBON MONOXIDE' in the hierarchy 'EARTH SCIENCE/ATMOSPHERE/ATMOSPHERIC CHEMISTRY/CARBON AND HYDROCARBON COMPOUNDS/CARBON MONOXIDE'` is not a valid GCMD keyword."], "remediation"=>"Either provide a valid GCMD keyword or submit a request to support@earthdata.nasa.gov to have this keyword added to the GCMD KMS."}}, "DIF/Dataset_Progress"=>{"collection_progress_consistency_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Personnel/Contact_Person/First_Name"=>{"user_services_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Organization/Personnel/Contact_Person/First_Name"=>{}, "DIF/Entry_Title"=>{"shortname_uniqueness"=>{"valid"=>true, "value"=>[]}}, "DIF/Collection_Data_Type"=>{}, "DIF/Distribution/Distribution_Format"=>{"data_format_gcmd_check"=>{"valid"=>true, "value"=>[]}}, "DIF/Data_Resolution/Vertical_Resolution_Range"=>{}, "DIF/Use_Constraints/License_URL/URL"=>{"license_information_check"=>{"valid"=>false, "value"=>[nil], "message"=>["Warning: No license information is provided."], "remediation"=>"Please provide information about the license applicable to the dataset, preferably as a URL. For EOSDIS records, please providing the following link (unless under different usage terms): https://earthdata.nasa.gov/earth-observation-data/data-use-policy"}}}, "pyquarc_errors"=>[{"message"=>"Running check for the rule: 'doi_validity_check' failed.", "details"=>"[Errno 30] Read-only file system: '/home/sbx_user1051'"}, {"message"=>"Running check for the rule: 'url_check' failed.", "details"=>"[Errno 30] Read-only file system: '/home/sbx_user1051'"}]}], "meta"=>[{"concept_id"=>nil, "Info"=>2, "Error"=>3, "Warning"=>3, "error_fields"=>["Access_Constraints", "DIF/Dataset_Citation/Dataset_Title", "DIF/Related_URL/Mime_Type", "DIF/Spatial_Coverage/Spatial_Coverage_Type", "DIF/Temporal_Coverage/Ends_At_Present_Flag", "DIF/Spatial_Coverage/Spatial_Info/Horizontal_Coordinate_System/Geodetic_Model/Horizontal_DatumName", "DIF/Science_Keywords/Category", "DIF/Use_Constraints/License_URL/URL"], "total_valid"=>90}], "params"=>{"auth_key"=>nil, "filename"=>"20221130-607-1yf1gdu", "file"=>"\n        <DIF xmlns=\"http://gcmd.gsfc.nasa.gov/Aboutus/xml/dif/\"\n            xmlns:dif=\"http://gcmd.gsfc.nasa.gov/Aboutus/xml/dif/\"\n            xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://gcmd.gsfc.nasa.gov/Aboutus/xml/dif/ http://gcmd.gsfc.nasa.gov/Aboutus/xml/dif/dif_v10.2.xsd\">\n            <Entry_ID>\n                <Short_Name>MOP02T</Short_Name>\n                <Version>108</Version>\n            </Entry_ID>\n            <Version_Description>Version 108, an unvalidated beta product subject to recalibration, uses a dynamic version of radiance correction that accounts for both instrument drift over time and the effects of water vapor on CO retrieval.</Version_Description>\n            <Entry_Title>MOPITT Beta Derived CO (Thermal Infrared Radiances) V108</Entry_Title>\n            <Dataset_Citation>\n                <Dataset_Release_Date>2000-03-03</Dataset_Release_Date>\n                <Persistent_Identifier>\n                    <Type>DOI</Type>\n                    <Identifier>10.5067/TERRA/MOPITT/MOP02T_L2.108</Identifier>\n                </Persistent_Identifier>\n                <Online_Resource>http://eosweb.larc.nasa.gov/project/mopitt/mopitt_table</Online_Resource>\n            </Dataset_Citation>\n            <Personnel>\n                <Role>INVESTIGATOR</Role>\n                <Contact_Person>\n                    <First_Name>HELEN</First_Name>\n                    <Last_Name>WORDEN</Last_Name>\n                    <Address>\n                        <Street_Address>Atmospheric Chemistry Observations and Modeling (ACOM) Laboratory, &#xd;</Street_Address>\n                        <Street_Address>National Center for Atmospheric Research, &#xd;</Street_Address>\n                        <Street_Address>P.O. Box 3000</Street_Address>\n                        <City>BOULDER</City>\n                        <State_Province>CO</State_Province>\n                        <Postal_Code>80307</Postal_Code>\n                        <Country>USA</Country>\n                    </Address>\n                    <Phone>\n                        <Number>(303) 497-2912</Number>\n                        <Type>Telephone</Type>\n                    </Phone>\n                    <Email>hmw@ucar.edu</Email>\n                </Contact_Person>\n            </Personnel>\n            <Science_Keywords uuid=\"19ab681c-bdd7-4793-bbdb-1ec498575314\">\n                <Category>EARTH SCIENCE</Category>\n                <Topic>ATMOSPHERE</Topic>\n                <Term>ATMOSPHERIC CHEMISTRY</Term>\n                <Variable_Level_1>CARBON AND HYDROCARBON COMPOUNDS</Variable_Level_1>\n            </Science_Keywords>\n            <Science_Keywords uuid=\"88a1b416-1589-45a4-9923-452975ec35c7\">\n                <Category>EARTH SCIENCE</Category>\n                <Topic>ATMOSPHERE</Topic>\n                <Term>ATMOSPHERIC CHEMISTRY</Term>\n                <Variable_Level_1>CARBON AND HYDROCARBON COMPOUNDS</Variable_Level_1>\n                <Variable_Level_2>CARBON MONOXIDE</Variable_Level_2>\n            </Science_Keywords>\n            <Science_Keywords uuid=\"b9c56939-c624-467d-b196-e56a5b660334\">\n                <Category>EARTH SCIENCE</Category>\n                <Topic>ATMOSPHERE</Topic>\n                <Term>ATMOSPHERIC CHEMISTRY</Term>\n            </Science_Keywords>\n            <Ancillary_Keyword>Carbon Monoxide (CO)</Ancillary_Keyword>\n            <Platform uuid=\"80eca755-c564-4616-b910-a4c4387b7c54\">\n                <Type>Earth Observation Satellites</Type>\n                <Short_Name>Terra</Short_Name>\n                <Long_Name>Earth Observing System, TERRA (AM-1)</Long_Name>\n                <Instrument uuid=\"3d148e55-a196-4779-ad6e-71a6acb5ec92\">\n                    <Short_Name>MOPITT</Short_Name>\n                    <Long_Name>Measurements of Pollution In The Troposphere</Long_Name>\n                    <Sensor>\n                        <Short_Name>2.3um Radiometer</Short_Name>\n                    </Sensor>\n                    <Sensor>\n                        <Short_Name>2.4um Radiometer</Short_Name>\n                    </Sensor>\n                    <Sensor>\n                        <Short_Name>4.7um Radiometer</Short_Name>\n                    </Sensor>\n                </Instrument>\n            </Platform>\n            <Temporal_Coverage>\n                <Ends_At_Present_Flag>true</Ends_At_Present_Flag>\n                <Range_DateTime>\n                    <Beginning_Date_Time>2018-03-25T00:00:00Z</Beginning_Date_Time>\n                </Range_DateTime>\n                <Temporal_Info>\n                    <Ancillary_Temporal_Keyword>daily</Ancillary_Temporal_Keyword>\n                </Temporal_Info>\n            </Temporal_Coverage>\n            <Dataset_Progress>IN WORK</Dataset_Progress>\n            <Spatial_Coverage>\n                <Spatial_Coverage_Type>HorizontalVertical</Spatial_Coverage_Type>\n                <Granule_Spatial_Representation>CARTESIAN</Granule_Spatial_Representation>\n                <Geometry>\n                    <Coordinate_System>CARTESIAN</Coordinate_System>\n                    <Bounding_Rectangle>\n                        <Southernmost_Latitude>-90</Southernmost_Latitude>\n                        <Northernmost_Latitude>90</Northernmost_Latitude>\n                        <Westernmost_Longitude>-180</Westernmost_Longitude>\n                        <Easternmost_Longitude>180</Easternmost_Longitude>\n                    </Bounding_Rectangle>\n                </Geometry>\n            </Spatial_Coverage>\n            <Location uuid=\"51e3593f-4b42-4141-972e-96666c479f9c\">\n                <Location_Category>GEOGRAPHIC REGION</Location_Category>\n                <Location_Type>GLOBAL</Location_Type>\n            </Location>\n            <Project uuid=\"ea8d8915-bce6-4f31-855c-e1a9085acbc2\">\n                <Short_Name>MOPITT</Short_Name>\n                <Long_Name>Measurements Of Pollution In The Troposphere</Long_Name>\n            </Project>\n            <Access_Constraints>No access constraints</Access_Constraints>\n            <Dataset_Language>English</Dataset_Language>\n            <Organization>\n                <Organization_Type>ARCHIVER</Organization_Type>\n                <Organization_Name>\n                    <Short_Name>NASA/LARC/SD/ASDC</Short_Name>\n                    <Long_Name>Atmospheric Science Data Center, Science Directorate, Langley Research Center, NASA</Long_Name>\n                </Organization_Name>\n                <Organization_URL>https://eosweb.larc.nasa.gov</Organization_URL>\n                <Personnel>\n                    <Role>DATA CENTER CONTACT</Role>\n                    <Contact_Group>\n                        <Name>ASDC USER SERVICES</Name>\n                        <Address>\n                            <Street_Address>NASA Langley Atmospheric Science Data Center&#xd;</Street_Address>\n                            <Street_Address>User and Data Services&#xd;</Street_Address>\n                            <Street_Address>NASA Langley Research Center&#xd;</Street_Address>\n                            <Street_Address>Mail Stop 157D</Street_Address>\n                            <City>Hampton</City>\n                            <State_Province>VA</State_Province>\n                            <Postal_Code>23681-2199</Postal_Code>\n                            <Country>USA</Country>\n                        </Address>\n                        <Phone>\n                            <Number>757-864-8656</Number>\n                            <Type>Telephone</Type>\n                        </Phone>\n                        <Email>support-asdc@earthdata.nasa.gov</Email>\n                    </Contact_Group>\n                </Personnel>\n            </Organization>\n            <Distribution>\n                <Distribution_Format>HDF-EOS5</Distribution_Format>\n            </Distribution>\n            <Summary>\n                <Abstract>MOP02T_108 is the Measurements Of Pollution In The Troposphere (MOPITT) Beta Derived CO (Thermal Infrared Radiances) version 108 product. It is an unvalidated beta product subject to recalibration, consists of the geo-located, retrieved carbon monoxide profiles and total column amounts for carbon monoxide. Ancillary data concerning surface properties and cloud conditions at the locations of the retrieved parameters are also included. Each retrieval is accompanied by an estimated error. Version 108 products are beta versions for version 8 products, they are unvalidated beta products subject to recalibration.&#xd;&#xd;MOPITT was successfully launched into sun-synchronous polar orbit aboard Terra, NASA's first Earth Observing System spacecraft on December 18, 1999. The MOPITT instrument was constructed by a consortium of Canadian companies and funded by the Space Science Division of the Canadian Space Agency.</Abstract>\n            </Summary>\n            <Related_URL>\n                <URL_Content_Type uuid=\"0eba3253-8eb7-4e43-9627-9cff48775e27\">\n                    <Type>VIEW RELATED INFORMATION</Type>\n                    <Subtype>DATA QUALITY</Subtype>\n                </URL_Content_Type>\n                <URL>https://eosweb.larc.nasa.gov/project/mopitt/mopitt-quality-statements</URL>\n                <Description>ASDC List of MOPITT Quality Statements</Description>\n            </Related_URL>\n            <Related_URL>\n                <URL_Content_Type uuid=\"8e33a2dd-df13-4079-8636-391abb5344c6\">\n                    <Type>GET DATA</Type>\n                    <Subtype>DIRECT DOWNLOAD</Subtype>\n                </URL_Content_Type>\n                <URL>ftp://l5ftl01.larc.nasa.gov/MOPITT/BETA/MOP02T.108</URL>\n                <Description>ASDC Data Pool for MOP02T.108</Description>\n            </Related_URL>\n            <Related_URL>\n                <URL_Content_Type uuid=\"5b8013bb-0b15-4811-8aa3-bfc108c3a041\">\n                    <Type>GET DATA</Type>\n                    <Subtype>Earthdata Search</Subtype>\n                </URL_Content_Type>\n                <URL>https://search.earthdata.nasa.gov/search/granules?p=C1575974139-LARC</URL>\n                <Description>Earthdata Search for MOP02T_108 (NASA Application to search, discover, visualize, refine, and access NASA Earth Observation data)</Description>\n            </Related_URL>\n            <Related_URL>\n                <URL_Content_Type uuid=\"6e72d128-7d28-4bd0-bac0-8c5ffd8b31f1\">\n                    <Type>PROJECT HOME PAGE</Type>\n                </URL_Content_Type>\n                <URL>https://www2.acom.ucar.edu/mopitt</URL>\n                <Description>U.S. MOPITT project home page</Description>\n            </Related_URL>\n            <Related_URL>\n                <URL_Content_Type uuid=\"d1996d91-e824-4b24-b94e-3aae4543b63b\">\n                    <Type>VIEW RELATED INFORMATION</Type>\n                    <Subtype>USER'S GUIDE</Subtype>\n                </URL_Content_Type>\n                <URL>https://www2.acom.ucar.edu/sites/default/files/mopitt/v8_users_guide_201812.pdf</URL>\n                <Description>MOPITT Version 8 Product User's Guide - December 2018</Description>\n            </Related_URL>\n            <Related_URL>\n                <URL_Content_Type uuid=\"eae7a041-b004-48df-8d4e-d758969e3185\">\n                    <Type>USE SERVICE API</Type>\n                    <Subtype>OPENDAP DATA</Subtype>\n                </URL_Content_Type>\n                <URL>https://opendap.larc.nasa.gov/opendap/MOPITT/MOP02T.108/contents.html</URL>\n                <Description>OPeNDAP data access for MOP02T_108</Description>\n            </Related_URL>\n            <Related_URL>\n                <URL_Content_Type uuid=\"eeff646c-6faf-468e-a0ab-ff78fc6f86f9\">\n                    <Type>GET RELATED VISUALIZATION</Type>\n                    <Subtype>WORLDVIEW</Subtype>\n                </URL_Content_Type>\n                <URL>https://worldview.earthdata.nasa.gov/</URL>\n                <Description>NASA Worldview</Description>\n            </Related_URL>\n            <Related_URL>\n                <URL_Content_Type uuid=\"fd01f7ec-fdf6-4440-b974-75f12fb4ec5f\">\n                    <Type>VIEW RELATED INFORMATION</Type>\n                    <Subtype>ALGORITHM THEORETICAL BASIS DOCUMENT (ATBD)</Subtype>\n                </URL_Content_Type>\n                <URL>https://eospso.gsfc.nasa.gov/atbd-category/48</URL>\n                <Description>NASA EOS ATB Documents: MOPITT</Description>\n            </Related_URL>\n            <Related_URL>\n                <URL_Content_Type uuid=\"8826912b-c89e-4810-b446-39b98b5d937c\">\n                    <Type>DATA SET LANDING PAGE</Type>\n                </URL_Content_Type>\n                <URL>https://doi.org/10.5067/TERRA/MOPITT/MOP02T_L2.108</URL>\n                <Description>DOI data set landing page for MOP02T_108</Description>\n            </Related_URL>\n            <Related_URL>\n                <URL_Content_Type uuid=\"aebf20eb-39c7-4f4f-aecf-a628f703867b\">\n                    <Type>VIEW RELATED INFORMATION</Type>\n                    <Subtype>GENERAL DOCUMENTATION</Subtype>\n                </URL_Content_Type>\n                <URL>https://eosweb.larc.nasa.gov/project/mopitt/mopitt_table</URL>\n                <Description>ASDC Data and Information for MOPITT</Description>\n            </Related_URL>\n            <Related_URL>\n                <URL_Content_Type uuid=\"13a4deec-bd22-4864-9804-77fac181f484\">\n                    <Type>VIEW RELATED INFORMATION</Type>\n                    <Subtype>PUBLICATIONS</Subtype>\n                </URL_Content_Type>\n                <URL>https://eosweb.larc.nasa.gov/project/mopitt/featured_articles</URL>\n                <Description>ASDC List of MOPITT Featured Articles</Description>\n            </Related_URL>\n            <Related_URL>\n                <URL_Content_Type uuid=\"13a4deec-bd22-4864-9804-77fac181f484\">\n                    <Type>VIEW RELATED INFORMATION</Type>\n                    <Subtype>PUBLICATIONS</Subtype>\n                </URL_Content_Type>\n                <URL>https://eosweb.larc.nasa.gov/newsletter/subscriptions</URL>\n                <Description>ASDC Registration for Project Specific News and Information</Description>\n            </Related_URL>\n            <Related_URL>\n                <URL_Content_Type uuid=\"7ebd73e5-b0aa-4cf2-ace5-1d3890c2c3ce\">\n                    <Type>VIEW RELATED INFORMATION</Type>\n                    <Subtype>HOW-TO</Subtype>\n                </URL_Content_Type>\n                <URL>https://hdfeos.org/zoo/</URL>\n                <Description>Examples on how to access and visualize various NASA HDF/HDF-EOS files using Python (pyhdf/h5py), NCL, MATLAB®, and IDL®</Description>\n            </Related_URL>\n            <Related_URL>\n                <URL_Content_Type uuid=\"2af2cfc4-9390-43da-8fa8-1f272e8ee0b0\">\n                    <Type>VIEW RELATED INFORMATION</Type>\n                    <Subtype>IMPORTANT NOTICE</Subtype>\n                </URL_Content_Type>\n                <URL>https://eosweb.larc.nasa.gov/mopitt-announcements</URL>\n                <Description>Measurements Of Pollution In The Troposphere (MOPITT) Project Announcements</Description>\n            </Related_URL>\n            <Related_URL>\n                <URL_Content_Type uuid=\"ab2fce71-e5f9-4ba6-bfb1-bc428a8b7dd8\">\n                    <Type>VIEW RELATED INFORMATION</Type>\n                    <Subtype>USER FEEDBACK PAGE</Subtype>\n                </URL_Content_Type>\n                <URL>https://eosweb.larc.nasa.gov/faq-page/mopitt-faq</URL>\n                <Description>MOPITT Frequently Asked Questions</Description>\n            </Related_URL>\n            <Related_URL>\n                <URL_Content_Type uuid=\"aebf20eb-39c7-4f4f-aecf-a628f703867b\">\n                    <Type>VIEW RELATED INFORMATION</Type>\n                    <Subtype>GENERAL DOCUMENTATION</Subtype>\n                </URL_Content_Type>\n                <URL>https://eosweb.larc.nasa.gov/project/mopitt/guide/ASDC_MOPITT_Overview_2015.pdf</URL>\n                <Description>Overview of MOPITT Data at the ASDC</Description>\n            </Related_URL>\n            <Related_URL>\n                <URL_Content_Type uuid=\"6e72d128-7d28-4bd0-bac0-8c5ffd8b31f1\">\n                    <Type>PROJECT HOME PAGE</Type>\n                </URL_Content_Type>\n                <URL>https://terra.nasa.gov/</URL>\n                <Description>Terra instrument home page</Description>\n            </Related_URL>\n            <Related_URL>\n                <URL_Content_Type uuid=\"f00cf885-8fc5-42ca-a70e-1689530f00cf\">\n                    <Type>PROFESSIONAL HOME PAGE</Type>\n                </URL_Content_Type>\n                <URL>https://mopitt.physics.utoronto.ca/</URL>\n                <Description>University of Toronto MOPITT Overview</Description>\n            </Related_URL>\n            <Related_URL>\n                <URL_Content_Type uuid=\"8e33a2dd-df13-4079-8636-391abb5344c6\">\n                    <Type>GET DATA</Type>\n                    <Subtype>DIRECT DOWNLOAD</Subtype>\n                </URL_Content_Type>\n                <URL>https://l0dup05.larc.nasa.gov/opendap/MOPITT/MOP02T.108/contents.html</URL>\n                <Description>ASDC Data Pool for MOP02T_108</Description>\n            </Related_URL>\n            <Related_URL>\n                <URL_Content_Type uuid=\"8e33a2dd-df13-4079-8636-391abb5344c6\">\n                    <Type>GET DATA</Type>\n                    <Subtype>DIRECT DOWNLOAD</Subtype>\n                </URL_Content_Type>\n                <URL>https://asdc.larc.nasa.gov/data/MOPITT/MOP02T.108/</URL>\n                <Description>ASDC Direct Data Download for MOP02T_108</Description>\n            </Related_URL>\n            <Metadata_Association>\n                <Entry_ID>\n                    <Short_Name>MOP02TN</Short_Name>\n                    <Version>108</Version>\n                </Entry_ID>\n                <Type>Related</Type>\n            </Metadata_Association>\n            <Metadata_Name>CEOS IDN DIF</Metadata_Name>\n            <Metadata_Version>VERSION 10.2</Metadata_Version>\n            <DIF_Revision_History>2020-01-13, Tiffany Trapasso  Updated related URLs.</DIF_Revision_History>\n            <Metadata_Dates>\n                <Metadata_Creation>2019-07-02</Metadata_Creation>\n                <Metadata_Last_Revision>2020-01-13</Metadata_Last_Revision>\n                <Data_Creation>2018-10-26</Data_Creation>\n                <Data_Last_Revision>2019-06-19</Data_Last_Revision>\n            </Metadata_Dates>\n            <Additional_Attributes>\n                <Name>MOPFGRad5DiffThr</Name>\n                <DataType>FLOAT</DataType>\n                <Description>First Guess minus Thermal 800mb A channel difference threshold</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPRad5FGRatioThr</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Ratio Thermal 800mb A channel to First Guess threshold</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPRad5FGRatioThr2</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Ratio Thermal 800mb A channel to First Guess Polar threshold</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPRad5FGRatioThrN</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Ratio Thermal 800mb A channel to First Guess night threshold</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPRad6FGDiffThr</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Absolute value of Solar 800mb A channel minus First Guess difference threshold</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPRad6FGRatioThr</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Ratio Solar 800mb A channel to First Guess threshold</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPCldTopPrDiff</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Surface Pressure minus Cloud Top Pressure difference threshold</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPNStarD</Name>\n                <DataType>FLOAT</DataType>\n                <Description>N* cloud clearing technique Day limit</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPNStarN</Name>\n                <DataType>FLOAT</DataType>\n                <Description>N* cloud clearing technique Night limit</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPOvrcstUniformity</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Overcast Cloud Top threshold determined by statistical uniformity of adjacent pixels</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPOvrcstOpacity</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Overcast Cloud Top threshold determined by the opacity of the clouds</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPPercentCloudCleared</Name>\n                <DataType>INT</DataType>\n                <Description>Percent of pixels which were cleared of clouds</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPConvIterAvg</Name>\n                <DataType>FLOAT</DataType>\n                <Description>The average number of iterations required to converge on a retrieval</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPConvIterMax</Name>\n                <DataType>INT</DataType>\n                <Description>Maximum number of iterations permitted to occur before declaring the pixel as non-convergent</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPUncertCOSfc</Name>\n                <DataType>FLOAT</DataType>\n                <Description>The average retrieved uncertainty of the surface CO mixing ratio</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPMaxCO</Name>\n                <DataType>FLOAT</DataType>\n                <Description>The maximum observed total column CO value</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPMinCO</Name>\n                <DataType>FLOAT</DataType>\n                <Description>The minimum observed total column CO value</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPMinCOMixRatSfc</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Minimum surface mixing ratio of CO</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPMaxCOMixRatSfc</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Maximum surface mixing ratio of CO</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPMinCOMixRat850</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Minimum mixing ratio of CO at 850 mb</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPMaxCOMixRat850</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Maximum mixing ratio of CO at 850 mb</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPMinCOMixRat700</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Minimum mixing ratio of CO at 700 mb</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPMaxCOMixRat700</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Maximum mixing ratio of CO at 700 mb</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPMinCOMixRat500</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Minimum mixing ratio of CO at 500 mb</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPMaxCOMixRat500</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Maximum mixing ratio of CO at 500 mb</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPMinCOMixRat350</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Minimum mixing ratio of CO at 350 mb</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPMaxCOMixRat350</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Maximum mixing ratio of CO at 350 mb</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPMinCOMixRat250</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Minimum mixing ratio of CO at 250 mb</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPMaxCOMixRat250</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Maximum mixing ratio of CO at 250 mb</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPMinCOMixRat150</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Minimum mixing ratio of CO at 150 mb</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPMaxCOMixRat150</Name>\n                <DataType>FLOAT</DataType>\n                <Description>Maximum mixing ratio of CO at 150 mb</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPHotCalPre1</Name>\n                <DataType>DATE</DataType>\n                <Description>Date of previous hot calibration in optical train 1</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPHotCalPost1</Name>\n                <DataType>DATE</DataType>\n                <Description>Date of post hot calibration in optical train 1</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPHotCalPre2</Name>\n                <DataType>DATE</DataType>\n                <Description>Date of previous hot calibration in optical train 2</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPHotCalPost2</Name>\n                <DataType>DATE</DataType>\n                <Description>Date of post hot calibration in optical train 2</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPHotCalPre3</Name>\n                <DataType>DATE</DataType>\n                <Description>Date of previous hot calibration in optical train 3</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPHotCalPost3</Name>\n                <DataType>DATE</DataType>\n                <Description>Date of post hot calibration in optical train 3</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPHotCalPre4</Name>\n                <DataType>DATE</DataType>\n                <Description>Date of previous hot calibration in optical train 4</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPHotCalPost4</Name>\n                <DataType>DATE</DataType>\n                <Description>Date of post hot calibration in optical train 4</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>MOPEventDesc</Name>\n                <DataType>STRING</DataType>\n                <Description>Significant geophysical, instrument-related or processing-related events associated with this granule</Description>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>identifier_product_doi</Name>\n                <DataType>STRING</DataType>\n                <Description>Digital object identifier that uniquely identifies this data product</Description>\n                <Value>10.5067/TERRA/MOPITT/MOP02T_L2.108</Value>\n            </Additional_Attributes>\n            <Additional_Attributes>\n                <Name>identifier_product_doi_authority</Name>\n                <DataType>STRING</DataType>\n                <Description>URL of the digital object identifier resolving authority</Description>\n                <Value>https://doi.org/</Value>\n            </Additional_Attributes>\n            <Product_Level_Id>2</Product_Level_Id>\n            <Product_Flag>DATA_PRODUCT_FILE</Product_Flag>\n            <Extended_Metadata>\n                <Metadata>\n                    <Group>gov.nasa.earthdata.cmr.restriction</Group>\n                    <Name>Restriction</Name>\n                    <Value>4</Value>\n                </Metadata>\n            </Extended_Metadata>\n        </DIF>", "format"=>"dif10", "cmr_host"=>nil, "concept_id"=>nil, "cmr_query"=>nil}}
        process_results = Quarc.instance.process(validation_results)
        expect_results = {"Access_Constraints"=>"<b>Errors:</b><ul><li>Error: Character content other than whitespace is not allowed because the content type is 'element-only'.</li></ul>schema failed<br>", "Temporal_Coverage/Range_DateTime/Beginning_Date_Time"=>"OK;", "Metadata_Dates/Metadata_Creation"=>"OK;", "Metadata_Dates/Metadata_Last_Revision"=>"OK;", "Metadata_Dates/Data_Creation"=>"OK;", "Metadata_Dates/Data_Last_Revision"=>"OK;", "Dataset_Citation/Dataset_Release_Date"=>"OK;", "Organization/Organization_Name/Long_Name"=>"OK;", "Spatial_Coverage/Geometry/Coordinate_System"=>"OK;", "Related_URL"=>"OK;", "Platform/Characteristics/Value"=>"OK;", "Platform/Instrument/Sensor/Characteristics/Value"=>"OK;", "Platform/Instrument/Characteristics/Value"=>"OK;", "Organization/Organization_Name/Short_Name"=>"OK;", "Platform/Instrument/Short_Name"=>"OK;", "Platform/Instrument/Sensor/Short_Name"=>"OK;", "Platform/Instrument/Characteristics/DataType"=>"OK;", "Platform/Instrument/Sensor/Characteristics/DataType"=>"OK;", "Platform/Characteristics/DataType"=>"OK;", "Platform/Characteristics/Unit"=>"OK;", "Platform/Instrument/Sensor/Characteristics/Unit"=>"OK;", "Platform/Instrument/Characteristics/Unit"=>"OK;", "Spatial_Coverage/Geometry/Bounding_Rectangle/Westernmost_Longitude"=>"OK;", "Location/Location_Category"=>"OK;", "Platform/Characteristics/Name"=>"OK;", "Platform/Instrument/Characteristics/Name"=>"OK;", "Platform/Instrument/Sensor/Characteristics/Name"=>"OK;", "Summary/Abstract"=>"OK;", "Platform/Type"=>"OK;", "Dataset_Citation/Persistent_Identifier/Explanation"=>"OK;", "Version_Description"=>"OK;", "Temporal_Coverage/Single_DateTime"=>"OK;", "Platform/Characteristics/Description"=>"OK;", "Platform/Instrument/Characteristics/Description"=>"OK;", "Platform/Instrument/Sensor/Characteristics/Description"=>"OK;", "Project/Short_Name"=>"OK;", "Project/Long_Name"=>"OK;", "Spatial_Coverage/Geometry/Bounding_Rectangle"=>"OK;", "Related_URL/Description"=>"OK;", "Multimedia_Sample/Description"=>"OK;", "Use_Constraints/License_URL/Description"=>"OK;", "Platform/Instrument/Long_Name"=>"OK;", "Dataset_Citation/Dataset_Title"=>"<b>Errors:</b><ul><li>Warning: No CitationforExternalPublication is provided.</li></ul><b>Remediation:</b><br>Please provide a citation for the dataset in the CitationforExternalPublication field.", "Platform/Short_Name"=>"OK;", "Platform/Long_Name"=>"OK;", "Related_URL/Mime_Type"=>"<b>Errors:</b><ul><li>Info: MimeType isn't valid.</li></ul><b>Remediation:</b><br>If the URL Type is 'USE SERVICE API', please make sure to specify a MimeType from the list: ['application/json', 'application/xml', 'application/x-netcdf', 'application/gml+xml', 'application/vnd.google-earth.kml+xml', 'image/gif', 'image/tiff', 'image/bmp', 'text/csv', 'text/xml', 'application/pdf', 'application/x-hdf', 'application/xhdf5', 'application/octet-stream', 'application/vnd.google-earth.kmz', 'image/jpeg', 'image/png', 'image/vnd.collada+xml', 'text/html', 'text/plain', 'Not provided']", "Spatial_Coverage/Spatial_Coverage_Type"=>"<b>Errors:</b><ul><li>Error: The Spatial Coverage Type provided `['HorizontalVertical']` is invalid.</li></ul><b>Remediation:</b><br>Please provide a Spatial Coverage Type from the following list: ['HORIZONTAL', 'VERTICAL', 'ORBITAL', 'HORIZONTAL_VERTICAL', ORBITAL_VERTICAL', 'HORIZONTAL_ORBITAL', 'HORIZONTAL_VERTICAL_ORBITAL']", "Location/Location_Type"=>"OK;", "Temporal_Coverage/Ends_At_Present_Flag"=>"<b>Errors:</b><ul><li>Warning: Potential issue with:\n - EndsAtPresentFlag: value = \"true\" but EndingDateTime is provided. \n - EndsAtPresentFlag: value = \"true\" but CollectionState is not \"ACTIVE\". \n - EndsAtPresentFlag: value = \"false\" but EndingDateTime is missing.\n - EndsAtPresentFlag: value = \"false\" but CollectionState is not \"COMPLETE\".</li></ul><b>Remediation:</b><br>If data collection is ongoing, provide an EndsAtPresentFlag of \"true\"", "Spatial_Coverage/Granule_Spatial_Representation"=>"OK;", "Spatial_Coverage/Spatial_Info/Horizontal_Coordinate_System/Geodetic_Model/Horizontal_DatumName"=>"<b>Errors:</b><ul><li>Info: Horizontal Datum Name is missing.</li></ul><b>Remediation:</b><br>Please provide a Horizontal Datum Name.", "Additional_Attributes/Value"=>"OK;", "Science_Keywords/Category"=>"<b>Errors:</b><ul><li>Error: `'CARBON MONOXIDE' in the hierarchy 'EARTH SCIENCE/ATMOSPHERE/ATMOSPHERIC CHEMISTRY/CARBON AND HYDROCARBON COMPOUNDS/CARBON MONOXIDE'` is not a valid GCMD keyword.</li></ul><b>Remediation:</b><br>Either provide a valid GCMD keyword or submit a request to support@earthdata.nasa.gov to have this keyword added to the GCMD KMS.", "Dataset_Progress"=>"OK;", "Personnel/Contact_Person/First_Name"=>"OK;", "Entry_Title"=>"OK;", "Distribution/Distribution_Format"=>"OK;", "Use_Constraints/License_URL/URL"=>"<b>Errors:</b><ul><li>Warning: No license information is provided.</li></ul><b>Remediation:</b><br>Please provide information about the license applicable to the dataset, preferably as a URL. For EOSDIS records, please providing the following link (unless under different usage terms): https://earthdata.nasa.gov/earth-observation-data/data-use-policy"}
        assert_equal(process_results, expect_results)
      end
    end
  end
