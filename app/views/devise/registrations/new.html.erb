<%= render(partial: 'shared/navigation', locals: {title: "METADATA CURATION: CREATE USER"}) %> 

<div class="sign_up_box">

  <div class="box_tab">
    CREATE NEW USER
  </div>

  <div class="form_box">
    <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
      <div class="">
        <%= f.email_field :email, autofocus: true, placeholder: "Username or Email" %>
      </div>

      <div >
        <% if @minimum_password_length %>
          <% min_pass = " - " + @minimum_password_length.to_s +  " characters minimum" %>
        <% else %>
          <% min_pass = "" %>
        <% end %>
        <%= f.password_field :password, autocomplete: "off", placeholder: "Password" + min_pass  %>
      </div>


      <div >
        <%= f.password_field :password_confirmation, autocomplete: "off", placeholder: "Password Confirmation" %>
      </div>
      
      <div class="select_container">
        <%= f.label :role, "Role" %>
        <%= f.collection_select :role, User::ROLES, :to_s, :upcase %>
      </div>

      <div id="daac_curator_fields" style="display:none;" class="select_container">
        <%= f.label :role, "Associated DAAC*" %>
        <%= f.select :daac, provider_select_list  %>
      </div>

      <div class="form_buttons">
        <%= f.submit("Create User", class: 'selectButton') %>
      </div>
      
    <% end %>
  </div>

</div>

<script type="text/javascript">
  $("select[name='user[role]']").on('change', function () {
    if (this.value === 'daac_curator') {
      $('#daac_curator_fields').show();
    } else {
      $('#daac_curator_fields').hide();
    }
  });
</script>